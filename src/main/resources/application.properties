# =============================
# TASKTRACK APPLICATION PROPERTIES
# =============================

spring.application.name=tasktrack

# =============================
# DATABASE CONNECTION SETTINGS
# =============================
# PostgreSQL database configuration
# 
# Connection URL format: jdbc:postgresql://[host]:[port]/[database]
# - localhost: Database server address (use IP in production)
# - 5432: Default PostgreSQL port
# - tasktrackdb: Database name (create this database first!)
spring.datasource.url=jdbc:postgresql://localhost:5432/tasktrackdb

# Database credentials
# WARNING: In production, use environment variables or secrets manager!
# Example: spring.datasource.username=${DB_USERNAME}
spring.datasource.username=postgres
spring.datasource.password=admin

# JDBC driver class (auto-detected by Spring Boot, but explicit is better)
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================
# CONNECTION POOL SETTINGS (HikariCP)
# =============================
# HikariCP is the default connection pool in Spring Boot
# These settings optimize database connection management

# Maximum number of connections in the pool (default: 10)
spring.datasource.hikari.maximum-pool-size=10

# Minimum number of idle connections (default: same as maximum)
spring.datasource.hikari.minimum-idle=5

# Maximum time (ms) to wait for a connection from pool (default: 30000)
spring.datasource.hikari.connection-timeout=30000

# Maximum time (ms) a connection can be idle before being removed (default: 600000)
spring.datasource.hikari.idle-timeout=600000

# Maximum lifetime (ms) of a connection in the pool (default: 1800000 = 30 min)
spring.datasource.hikari.max-lifetime=1800000

# =============================
# JPA / HIBERNATE SETTINGS
# =============================
# DDL Auto Options:
# - none: No action (production recommended)
# - validate: Validate schema, don't make changes
# - update: Update schema to match entities (dev recommended)
# - create: Drop and create schema on startup
# - create-drop: Create on startup, drop on shutdown (testing)
spring.jpa.hibernate.ddl-auto=update

# Database platform/dialect (auto-detected, but explicit is safer)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Disable Open Session in View (prevents lazy loading issues in controllers)
# Set to false for better performance and explicit transaction management
spring.jpa.open-in-view=false

# =============================
# SQL LOGGING (for Development)
# =============================
# Show SQL queries in console (disable in production for performance)
spring.jpa.show-sql=true

# Format SQL queries for readability
spring.jpa.properties.hibernate.format_sql=true

# Show parameter values in SQL (useful for debugging)
# WARNING: May log sensitive data - disable in production!
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# Log SQL statements with timing
logging.level.org.hibernate.SQL=DEBUG

# =============================
# SECURITY SETTINGS
# =============================
# Default Spring Security credentials (for development only!)
# In production, use proper authentication (JWT, OAuth2, etc.)
spring.security.user.name=admin
spring.security.user.password=admin

# =============================
# SERVER SETTINGS
# =============================
# Server port (default: 8080)
server.port=8080

# Context path (optional - uncomment to add prefix to all URLs)
# server.servlet.context-path=/api/v1

# =============================
# ACTUATOR SETTINGS (for monitoring)
# =============================
# Expose health and info endpoints
management.endpoints.web.exposure.include=health,info

# Show detailed health info
management.endpoint.health.show-details=when-authorized
